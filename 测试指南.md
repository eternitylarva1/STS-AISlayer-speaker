# AI解说Mod增强功能测试指南

## 测试环境准备
1. 确保杀戮尖塔游戏已安装ModTheSpire框架
2. 确保AI解说Mod已正确安装到mods文件夹
3. 确保AI API配置正确（API密钥和URL）

## 新功能测试项目

### 1. 怪物介绍功能测试
**测试步骤：**
1. 启动游戏，开始新 run
2. 进入战斗房间
3. 观察是否显示怪物介绍而不是"让俺寻思寻思"

**预期结果：**
- 如果配置中启用了怪物介绍，应该显示AI生成的怪物介绍
- 如果未启用，应该显示原来的思考文本

**配置检查：**
- 在Mod配置中检查"战斗开始时介绍怪物"选项
- 检查"怪物介绍详细程度"设置（0=简单，1=详细）

### 2. 解说模式切换测试
**测试步骤：**
1. 进入Mod配置界面
2. 切换"解说模式"选项
3. 测试不同模式下的解说行为

**预期结果：**
- 按牌数模式：每打N张牌触发一次解说
- 回合结束模式：只在回合结束时触发解说

**配置检查：**
- 检查"解说模式"设置（0=按牌数解说，1=回合结束解说）
- 检查"每几张牌解说一次"设置

### 3. 解说频率控制测试
**测试步骤：**
1. 设置不同的"每几张牌解说一次"数值
2. 在战斗中打牌，观察解说触发频率

**预期结果：**
- 设置为3时，每打3张牌触发一次解说
- 设置为1时，每打1张牌触发一次解说

### 4. 战斗状态跟踪测试
**测试步骤：**
1. 进入战斗，观察回合数据记录
2. 打牌、结束回合，观察状态更新
3. 检查解说内容是否包含战斗状态信息

**预期结果：**
- 解说内容应该包含当前回合出牌数量
- 解说内容应该包含玩家状态信息（血量、能量）
- 解说内容应该包含怪物状态信息

### 5. 多语言支持测试
**测试步骤：**
1. 切换游戏语言（中文/英文）
2. 测试怪物介绍和解说文本

**预期结果：**
- 界面文本应该正确显示对应语言
- 解说内容应该使用对应语言

## 性能测试
1. **API调用延迟测试**：观察AI解说的响应时间
2. **内存使用测试**：长时间游戏后检查内存使用情况
3. **并发测试**：快速进行多个操作，检查系统稳定性

## 错误处理测试
1. **网络断开测试**：断开网络连接，观察备用解说是否正常
2. **API错误测试**：使用错误的API配置，观察错误处理
3. **异常情况测试**：在特殊游戏状态下测试解说功能

## 日志检查
检查游戏日志中的以下信息：
- 解说触发日志
- API调用日志
- 错误处理日志
- 配置加载日志

## 回归测试
确保原有功能仍然正常工作：
- 基础解说功能
- 配置界面
- 多语言支持
- 兼容性

## 测试报告模板
```
测试日期：____
测试版本：____
测试结果：
- 怪物介绍功能：□通过 □失败 □部分通过
- 解说模式切换：□通过 □失败 □部分通过
- 解说频率控制：□通过 □失败 □部分通过
- 战斗状态跟踪：□通过 □失败 □部分通过
- 多语言支持：□通过 □失败 □部分通过
- 性能测试：□通过 □失败 □部分通过
- 错误处理：□通过 □失败 □部分通过

发现的问题：
1. 
2. 
3. 

建议和改进：
1. 
2. 
3. 